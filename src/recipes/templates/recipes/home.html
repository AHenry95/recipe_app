{% extends 'recipes/base.html' %}

{% block title %}Recipe App - Home{% endblock %}

{% block content %}
<section class="welcome-section">
    <h2>Welcome to the Kitchen!</h2>
    <p>
        Whether you're a seasoned chef or just getting started, this is your place to discover, 
        save, and share recipes that bring joy to your table.
    </p>
    <a href="/list" class="main-button">üç≥ Browse All Recipes</a>
</section>

<section class="featured-section">
    <h2 class="section-heading">Our Recipes:</h2>

    {% if not user.is_authenticated %}
        <div class="login-prompt">
            <p><a href="{% url 'login' %}">Log in</a> to view recipe details</p>
        </div>
    {% endif %}

    {% if recipes %}
    <div class="recipes-grid">
        {% for recipe in recipes %}
        {% if user.is_authenticated %}
        <a href="/list/{{ recipe.pk }}" class="recipe-card">
        {% else %}
        <div class="recipe-card locked">
        {% endif %}
            <img src="{{ recipe.pic.url }}" alt="{{ recipe.name }}" class="recipe-image">
            <div class="recipe-info">
                <h3 class="recipe-name">{{ recipe.name }}</h3>
                <div class="recipe-meta">
                    <span>‚è± {{ recipe.cooking_time }} min</span>
                    <span class="difficulty-badge difficulty-{{ recipe.difficulty|lower }}">
                        {{ recipe.difficulty }}
                    </span>
                </div>
            </div>
        {% if user.is_authenticated %}
        </a>
        {% else %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>No recipes yet. Add some recipes through the admin panel!</p>
    </div>
    {% endif %}
</section>
{% endblock %}